Copied from vexchange-v2-core
